{"ast":null,"code":"import _defineProperty from\"C:/Users/AVITA/Desktop/Harsh-React/Shopping-Cart/shopping-cart-react/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";import _objectSpread from\"C:/Users/AVITA/Desktop/Harsh-React/Shopping-Cart/shopping-cart-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/AVITA/Desktop/Harsh-React/Shopping-Cart/shopping-cart-react/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{createContext,useEffect,useState}from\"react\";import{PRODUCTS}from\"../products\";import{jsx as _jsx}from\"react/jsx-runtime\";export var ShopContext=/*#__PURE__*/createContext(null);var getDefaultCart=function getDefaultCart(){var cart={};for(var i=1;i<PRODUCTS.length+1;i++){cart[i]=0;}return cart;};export var ShopContextProvider=function ShopContextProvider(props){var _useState=useState(getDefaultCart()),_useState2=_slicedToArray(_useState,2),cartItems=_useState2[0],setCartItems=_useState2[1];var getTotalCartAmount=function getTotalCartAmount(){var totalAmount=0;var _loop=function _loop(item){if(cartItems[item]>0){var itemInfo=PRODUCTS.find(function(product){return product.id===Number(item);});totalAmount+=cartItems[item]*itemInfo.price;}};for(var item in cartItems){_loop(item);}return totalAmount;};var addToCart=function addToCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]+1));});};var removeFromCart=function removeFromCart(itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,prev[itemId]-1));});};var updateCartItemCount=function updateCartItemCount(newAmount,itemId){setCartItems(function(prev){return _objectSpread(_objectSpread({},prev),{},_defineProperty({},itemId,newAmount));});};var checkout=function checkout(){setCartItems(getDefaultCart());};var contextValue={cartItems:cartItems,addToCart:addToCart,updateCartItemCount:updateCartItemCount,removeFromCart:removeFromCart,getTotalCartAmount:getTotalCartAmount,checkout:checkout};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};","map":{"version":3,"names":["createContext","useEffect","useState","PRODUCTS","ShopContext","getDefaultCart","cart","i","length","ShopContextProvider","props","cartItems","setCartItems","getTotalCartAmount","totalAmount","item","itemInfo","find","product","id","Number","price","addToCart","itemId","prev","removeFromCart","updateCartItemCount","newAmount","checkout","contextValue","children"],"sources":["C:/Users/AVITA/Desktop/Harsh-React/Shopping-Cart/shopping-cart-react/src/context/shop-context.jsx"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\nimport { PRODUCTS } from \"../products\";\r\n\r\nexport const ShopContext = createContext(null);\r\n\r\nconst getDefaultCart = () => {\r\n  let cart = {};\r\n  for (let i = 1; i < PRODUCTS.length + 1; i++) {\r\n    cart[i] = 0;\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const ShopContextProvider = (props) => {\r\n  const [cartItems, setCartItems] = useState(getDefaultCart());\r\n\r\n  const getTotalCartAmount = () => {\r\n    let totalAmount = 0;\r\n    for (const item in cartItems) {\r\n      if (cartItems[item] > 0) {\r\n        let itemInfo = PRODUCTS.find((product) => product.id === Number(item));\r\n        totalAmount += cartItems[item] * itemInfo.price;\r\n      }\r\n    }\r\n    return totalAmount;\r\n  };\r\n\r\n  const addToCart = (itemId) => {\r\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] + 1 }));\r\n  };\r\n\r\n  const removeFromCart = (itemId) => {\r\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] - 1 }));\r\n  };\r\n\r\n  const updateCartItemCount = (newAmount, itemId) => {\r\n    setCartItems((prev) => ({ ...prev, [itemId]: newAmount }));\r\n  };\r\n\r\n  const checkout = () => {\r\n    setCartItems(getDefaultCart());\r\n  };\r\n\r\n  const contextValue = {\r\n    cartItems,\r\n    addToCart,\r\n    updateCartItemCount,\r\n    removeFromCart,\r\n    getTotalCartAmount,\r\n    checkout,\r\n  };\r\n\r\n  return (\r\n    <ShopContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </ShopContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"+cAAA,OAASA,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,QAAQ,KAAQ,aAAa,CAAC,2CAEvC,MAAO,IAAMC,YAAW,cAAGJ,aAAa,CAAC,IAAI,CAAC,CAE9C,GAAMK,eAAc,CAAG,QAAjBA,eAAc,EAAS,CAC3B,GAAIC,KAAI,CAAG,CAAC,CAAC,CACb,IAAK,GAAIC,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAGJ,QAAQ,CAACK,MAAM,CAAG,CAAC,CAAED,CAAC,EAAE,CAAE,CAC5CD,IAAI,CAACC,CAAC,CAAC,CAAG,CAAC,CACb,CACA,MAAOD,KAAI,CACb,CAAC,CAED,MAAO,IAAMG,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIC,KAAK,CAAK,CAC5C,cAAkCR,QAAQ,CAACG,cAAc,EAAE,CAAC,wCAArDM,SAAS,eAAEC,YAAY,eAE9B,GAAMC,mBAAkB,CAAG,QAArBA,mBAAkB,EAAS,CAC/B,GAAIC,YAAW,CAAG,CAAC,CAAC,yBACTC,IAAI,EACb,GAAIJ,SAAS,CAACI,IAAI,CAAC,CAAG,CAAC,CAAE,CACvB,GAAIC,SAAQ,CAAGb,QAAQ,CAACc,IAAI,CAAC,SAACC,OAAO,QAAKA,QAAO,CAACC,EAAE,GAAKC,MAAM,CAACL,IAAI,CAAC,GAAC,CACtED,WAAW,EAAIH,SAAS,CAACI,IAAI,CAAC,CAAGC,QAAQ,CAACK,KAAK,CACjD,CAAC,EAJH,IAAK,GAAMN,KAAI,GAAIJ,UAAS,CAAE,OAAnBI,IAAI,EAKf,CACA,MAAOD,YAAW,CACpB,CAAC,CAED,GAAMQ,UAAS,CAAG,QAAZA,UAAS,CAAIC,MAAM,CAAK,CAC5BX,YAAY,CAAC,SAACY,IAAI,wCAAWA,IAAI,wBAAGD,MAAM,CAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAC,IAAG,CAAC,CACnE,CAAC,CAED,GAAME,eAAc,CAAG,QAAjBA,eAAc,CAAIF,MAAM,CAAK,CACjCX,YAAY,CAAC,SAACY,IAAI,wCAAWA,IAAI,wBAAGD,MAAM,CAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAC,IAAG,CAAC,CACnE,CAAC,CAED,GAAMG,oBAAmB,CAAG,QAAtBA,oBAAmB,CAAIC,SAAS,CAAEJ,MAAM,CAAK,CACjDX,YAAY,CAAC,SAACY,IAAI,wCAAWA,IAAI,wBAAGD,MAAM,CAAGI,SAAS,IAAG,CAAC,CAC5D,CAAC,CAED,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,EAAS,CACrBhB,YAAY,CAACP,cAAc,EAAE,CAAC,CAChC,CAAC,CAED,GAAMwB,aAAY,CAAG,CACnBlB,SAAS,CAATA,SAAS,CACTW,SAAS,CAATA,SAAS,CACTI,mBAAmB,CAAnBA,mBAAmB,CACnBD,cAAc,CAAdA,cAAc,CACdZ,kBAAkB,CAAlBA,kBAAkB,CAClBe,QAAQ,CAARA,QACF,CAAC,CAED,mBACE,KAAC,WAAW,CAAC,QAAQ,EAAC,KAAK,CAAEC,YAAa,UACvCnB,KAAK,CAACoB,QAAQ,EACM,CAE3B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}