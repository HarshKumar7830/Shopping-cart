{"ast":null,"code":"import _objectSpread from\"C:/Users/AVITA/Desktop/Harsh-React/Shopping-Cart/shopping-cart-react/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{createContext,useEffect,useState}from\"react\";import{PRODUCTS}from\"../products\";import{jsx as _jsx}from\"react/jsx-runtime\";export const ShopContext=/*#__PURE__*/createContext(null);const getDefaultCart=()=>{let cart={};for(let i=1;i<PRODUCTS.length+1;i++){cart[i]=0;}return cart;};export const ShopContextProvider=props=>{const[cartItems,setCartItems]=useState(getDefaultCart());const getTotalCartAmount=()=>{let totalAmount=0;for(const item in cartItems){if(cartItems[item]>0){let itemInfo=PRODUCTS.find(product=>product.id===Number(item));totalAmount+=cartItems[item]*itemInfo.price;}}return totalAmount;};const addToCart=itemId=>{setCartItems(prev=>_objectSpread(_objectSpread({},prev),{},{[itemId]:prev[itemId]+1}));};const removeFromCart=itemId=>{setCartItems(prev=>_objectSpread(_objectSpread({},prev),{},{[itemId]:prev[itemId]-1}));};const updateCartItemCount=(newAmount,itemId)=>{setCartItems(prev=>_objectSpread(_objectSpread({},prev),{},{[itemId]:newAmount}));};const checkout=()=>{setCartItems(getDefaultCart());};const contextValue={cartItems,addToCart,updateCartItemCount,removeFromCart,getTotalCartAmount,checkout};return/*#__PURE__*/_jsx(ShopContext.Provider,{value:contextValue,children:props.children});};","map":{"version":3,"names":["createContext","useEffect","useState","PRODUCTS","jsx","_jsx","ShopContext","getDefaultCart","cart","i","length","ShopContextProvider","props","cartItems","setCartItems","getTotalCartAmount","totalAmount","item","itemInfo","find","product","id","Number","price","addToCart","itemId","prev","_objectSpread","removeFromCart","updateCartItemCount","newAmount","checkout","contextValue","Provider","value","children"],"sources":["C:/Users/AVITA/Desktop/Harsh-React/Shopping-Cart/shopping-cart-react/src/context/shop-context.jsx"],"sourcesContent":["import { createContext, useEffect, useState } from \"react\";\r\nimport { PRODUCTS } from \"../products\";\r\n\r\nexport const ShopContext = createContext(null);\r\n\r\nconst getDefaultCart = () => {\r\n  let cart = {};\r\n  for (let i = 1; i < PRODUCTS.length + 1; i++) {\r\n    cart[i] = 0;\r\n  }\r\n  return cart;\r\n};\r\n\r\nexport const ShopContextProvider = (props) => {\r\n  const [cartItems, setCartItems] = useState(getDefaultCart());\r\n\r\n  const getTotalCartAmount = () => {\r\n    let totalAmount = 0;\r\n    for (const item in cartItems) {\r\n      if (cartItems[item] > 0) {\r\n        let itemInfo = PRODUCTS.find((product) => product.id === Number(item));\r\n        totalAmount += cartItems[item] * itemInfo.price;\r\n      }\r\n    }\r\n    return totalAmount;\r\n  };\r\n\r\n  const addToCart = (itemId) => {\r\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] + 1 }));\r\n  };\r\n\r\n  const removeFromCart = (itemId) => {\r\n    setCartItems((prev) => ({ ...prev, [itemId]: prev[itemId] - 1 }));\r\n  };\r\n\r\n  const updateCartItemCount = (newAmount, itemId) => {\r\n    setCartItems((prev) => ({ ...prev, [itemId]: newAmount }));\r\n  };\r\n\r\n  const checkout = () => {\r\n    setCartItems(getDefaultCart());\r\n  };\r\n\r\n  const contextValue = {\r\n    cartItems,\r\n    addToCart,\r\n    updateCartItemCount,\r\n    removeFromCart,\r\n    getTotalCartAmount,\r\n    checkout,\r\n  };\r\n\r\n  return (\r\n    <ShopContext.Provider value={contextValue}>\r\n      {props.children}\r\n    </ShopContext.Provider>\r\n  );\r\n};\r\n"],"mappings":"yJAAA,OAASA,aAAa,CAAEC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC1D,OAASC,QAAQ,KAAQ,aAAa,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAEvC,MAAO,MAAM,CAAAC,WAAW,cAAGN,aAAa,CAAC,IAAI,CAAC,CAE9C,KAAM,CAAAO,cAAc,CAAGA,CAAA,GAAM,CAC3B,GAAI,CAAAC,IAAI,CAAG,CAAC,CAAC,CACb,IAAK,GAAI,CAAAC,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGN,QAAQ,CAACO,MAAM,CAAG,CAAC,CAAED,CAAC,EAAE,CAAE,CAC5CD,IAAI,CAACC,CAAC,CAAC,CAAG,CAAC,CACb,CACA,MAAO,CAAAD,IAAI,CACb,CAAC,CAED,MAAO,MAAM,CAAAG,mBAAmB,CAAIC,KAAK,EAAK,CAC5C,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGZ,QAAQ,CAACK,cAAc,CAAC,CAAC,CAAC,CAE5D,KAAM,CAAAQ,kBAAkB,CAAGA,CAAA,GAAM,CAC/B,GAAI,CAAAC,WAAW,CAAG,CAAC,CACnB,IAAK,KAAM,CAAAC,IAAI,GAAI,CAAAJ,SAAS,CAAE,CAC5B,GAAIA,SAAS,CAACI,IAAI,CAAC,CAAG,CAAC,CAAE,CACvB,GAAI,CAAAC,QAAQ,CAAGf,QAAQ,CAACgB,IAAI,CAAEC,OAAO,EAAKA,OAAO,CAACC,EAAE,GAAKC,MAAM,CAACL,IAAI,CAAC,CAAC,CACtED,WAAW,EAAIH,SAAS,CAACI,IAAI,CAAC,CAAGC,QAAQ,CAACK,KAAK,CACjD,CACF,CACA,MAAO,CAAAP,WAAW,CACpB,CAAC,CAED,KAAM,CAAAQ,SAAS,CAAIC,MAAM,EAAK,CAC5BX,YAAY,CAAEY,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACD,MAAM,EAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAC,EAAG,CAAC,CACnE,CAAC,CAED,KAAM,CAAAG,cAAc,CAAIH,MAAM,EAAK,CACjCX,YAAY,CAAEY,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACD,MAAM,EAAGC,IAAI,CAACD,MAAM,CAAC,CAAG,CAAC,EAAG,CAAC,CACnE,CAAC,CAED,KAAM,CAAAI,mBAAmB,CAAGA,CAACC,SAAS,CAAEL,MAAM,GAAK,CACjDX,YAAY,CAAEY,IAAI,EAAAC,aAAA,CAAAA,aAAA,IAAWD,IAAI,MAAE,CAACD,MAAM,EAAGK,SAAS,EAAG,CAAC,CAC5D,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrBjB,YAAY,CAACP,cAAc,CAAC,CAAC,CAAC,CAChC,CAAC,CAED,KAAM,CAAAyB,YAAY,CAAG,CACnBnB,SAAS,CACTW,SAAS,CACTK,mBAAmB,CACnBD,cAAc,CACdb,kBAAkB,CAClBgB,QACF,CAAC,CAED,mBACE1B,IAAA,CAACC,WAAW,CAAC2B,QAAQ,EAACC,KAAK,CAAEF,YAAa,CAAAG,QAAA,CACvCvB,KAAK,CAACuB,QAAQ,CACK,CAAC,CAE3B,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}